jQuery(document).ready(function(e){function t(e){var t=SAICL.widthWrap?parseInt(SAICL.widthWrap,10):e.innerWidth();var n=t-130;e.find(".saicl-wrap-textarea, .saicl-captcha").width(n);e.find(".saicl-no-login .saicl-wrap-textarea, .saicl-no-login .saicl-captcha").width(n+64);e.find(".saicl-textarea, .saicl-no-login .saicl-textarea, .saicl-no-login form .saicl-input, .saicl-counter-info").css("width","100%")}function n(t,n){var t=String(t);var n=String(n);var r=e("#saicl-link-"+t);var i=e("#commentform-"+t);var s=e("#saicl-comment-status-"+t);var o=e("ul#saicl-container-comment-"+t);var u=i.serialize();var a=i.attr("action");e.ajax({type:"post",url:a,data:u,beforeSend:function(){s.html('<div class="saicl-loading saicl-loading-2"></div>').show()},success:function(e,t){if(e!="error"){s.html('<p class="saicl-ajax-success">Thanks for your comment!</p>');if(r.find("span").length){n=String(parseInt(n,10)+1);r.find("span").html(n)}}else{s.html('<p class="saicl-ajax-success-2">Error in processing your form.</p>')}o.prepend(e).show();i.find(".saicl-textarea").val("").removeAttr("style").css("width","100%")},error:function(e,t,n){s.html('<p class="saicl-ajax-error" >You might have left one of the fields blank, or duplicate comments.</p>')},complete:function(e,t){setTimeout(function(){s.fadeOut(600)},3e3);i.find(":submit").removeAttr("disabled")}});return false}function r(t,n,r){var i=String(t);var n=parseInt(n,10);var s=e("#saicl-link-"+i);var o=e("div#saicl-wrap-commnent-"+i);o.slideToggle(200);if(e("ul#saicl-container-comment-"+i).length){var u=e("ul#saicl-container-comment-"+i);var a=e("#saicl-comment-status-"+i);var f=u.html().replace(/\s+/g,"");if(f==""&&n>0){jQuery.ajax({type:"POST",dataType:"html",url:SAICL.ajaxurl,data:{action:"get_comments",post_id:i,get:r,nonce:SAICL.nonce},beforeSend:function(){a.html('<div class="saicl-loading saicl-loading-2"></div>').show()},success:function(e){a.html("").hide();u.html(e).show()}})}else{}}return false}SAICL={ajaxurl:SAICL_WP.ajaxurl,nonce:SAICL_WP.saiclNonce,textCounter:SAICL_WP.textCounter,textCounterNum:SAICL_WP.textCounterNum!=""?SAICL_WP.textCounterNum:200,jpages:SAICL_WP.jpages,numPerPage:SAICL_WP.jPagesNum!=""?SAICL_WP.jPagesNum:5,widthWrap:SAICL_WP.widthWrap!=""?SAICL_WP.widthWrap:""};e(".saicl-wrapper").each(function(){t(e(this))});e(window).resize(function(){e(".saicl-wrapper").each(function(){t(e(this))})});e("a.saicl-link").click(function(t){t.preventDefault();var n=e(this).attr("id").replace("saicl-link-","");var i=e(this).attr("href").split("=")[2].replace("&get","");var s=e(this).attr("href").split("=")[3];r(n,i,s);return false});$commentForm=e(".saicl-container-form").find("form");$commentForm.submit(function(){e(this).find(":submit").attr("disabled","disabled");e("input, textarea").removeClass("saicl-error");var t=e(this).attr("id");var r=t.replace("commentform-","");var i=e("#commentform-"+r);var s=e("#saicl-link-"+r);var o=s.attr("href").split("=")[2];var u=true;var a=i.find("textarea").val().replace(/\s+/g," ");if(a.length<2){i.find(".saicl-textarea").addClass("saicl-error");i.find(".saicl-error-info-text").show();setTimeout(function(){i.find(".saicl-error-info-text").fadeOut(700)},3e3);e(this).find(":submit").removeAttr("disabled");return false}else{if(e(this).find(":text").length){var f=e(this).find("input#author");var l=f.val().replace(/\s+/g," ");var c=/^[^?&%$=\/]{2,30}$/i;var h=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i;var p=e(this).find("input#email");var d=p.val().replace(/\s+/g,"");p.val(d);if(l==0||!c.test(l)){f.addClass("saicl-error");i.find(".saicl-error-info-name").show();setTimeout(function(){i.find(".saicl-error-info-name").fadeOut(500)},3e3);u=false}if(!h.test(d)){p.addClass("saicl-error");i.find(".saicl-error-info-email").show();setTimeout(function(){i.find(".saicl-error-info-email").fadeOut(500)},3e3);u=false}if(!u){e(this).find(":submit").removeAttr("disabled");return false}}if(u){e(this).find(":submit").removeAttr("disabled");$commentID=parseInt(i.find("input#comment_parent").val(),10);n(r,o)}else{e(this).find(":submit").removeAttr("disabled")}}return false});if(typeof jQuery.fn.textareaCount=="function"&&SAICL.textCounter=="true"){e(".saicl-textarea").each(function(){var t={maxCharacterSize:SAICL.textCounterNum,originalStyle:"saicl-counter-info",warningStyle:"saicl-counter-warn",warningNumber:20,displayFormat:"#left"};e(this).textareaCount(t)})}if(typeof jQuery.fn.placeholder=="function"){e(".saicl-wrap-form input, .saicl-wrap-form textarea, #saicl-modal input, #saicl-modal textarea").placeholder()}if(typeof jQuery.fn.autosize=="function"){e("textarea.autosize-textarea").autosize({className:"autosize-textarea"})}})