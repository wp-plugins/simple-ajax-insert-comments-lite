jQuery(document).ready(function(t){function e(t){var e=SAIC.widthWrap?parseInt(SAIC.widthWrap,10):t.innerWidth();e>=290?(t.find(".saic-wrap-textarea").width(e-132),t.find("iframe").attr("height","250px")):(t.find(".saic-wrap-textarea").css("width","100%"),t.find("iframe").attr("height","160px"))}function a(a,i){var a=String(a),i=String(i),r=t("#saic-link-"+a),n=t("#commentform-"+a),s=t("#saic-comment-status-"+a),o=t("ul#saic-container-comment-"+a),c=n.serialize(),u=n.attr("action");return t.ajax({type:"post",url:u,data:c,beforeSend:function(){s.html('<div class="saic-loading saic-loading-2"></div>').show()},success:function(a){"error"!=a?(s.html('<p class="saic-ajax-success">Thanks for your comment!</p>'),r.find("span").length&&(i=String(parseInt(i,10)+1),r.find("span").html(i))):s.html('<p class="saic-ajax-success-2">Error in processing your form</p>'),o.prepend(a).show(),n.find(".saic-textarea").val("").removeAttr("style").css("width","100%"),t(".saic-wrapper").each(function(){e(t(this))})},error:function(){s.html('<p class="saic-ajax-error" >You might have left one of the fields blank, or duplicate comments.</p>')},complete:function(){setTimeout(function(){s.fadeOut(600)},3e3),n.find(":submit").removeAttr("disabled")}}),!1}function i(a,i,r,n){var s=String(a),i=parseInt(i,10),o=(t("#saic-link-"+s),t("div#saic-wrap-commnent-"+s));if(o.slideToggle(200),t("ul#saic-container-comment-"+s).length){var c=t("ul#saic-container-comment-"+s),u=t("#saic-comment-status-"+s),d=c.html().replace(/\s+/g,"");""==d&&i>0&&jQuery.ajax({type:"POST",dataType:"html",url:SAIC.ajaxurl,data:{action:"get_comments",post_id:s,get:r,order:n,nonce:SAIC.nonce},beforeSend:function(){u.html('<div class="saic-loading saic-loading-2"></div>').show()},success:function(a){u.html("").hide(),c.html(a).show(),t(".saic-wrapper").each(function(){e(t(this))})}})}return!1}t(this).find(":submit").removeAttr("disabled"),SAIC={ajaxurl:SAIC_WP.ajaxurl,nonce:SAIC_WP.saicNonce,textCounter:SAIC_WP.textCounter,textCounterNum:""!=SAIC_WP.textCounterNum?SAIC_WP.textCounterNum:300,jpages:SAIC_WP.jpages,numPerPage:""!=SAIC_WP.jPagesNum?SAIC_WP.jPagesNum:10,widthWrap:""!=SAIC_WP.widthWrap?SAIC_WP.widthWrap:"",autoLoad:SAIC_WP.autoLoad},t(".saic-wrapper").each(function(){e(t(this))}),t(window).resize(function(){t(".saic-wrapper").each(function(){e(t(this))})}),t(document).delegate("a.saic-link","click",function(e){e.preventDefault();var a=t(this).attr("id").replace("saic-link-",""),r=t(this).attr("href").split("=")[2].replace("&get",""),n=t(this).attr("href").split("=")[3],s=t(this).attr("href").split("=")[4];return i(a,r,n,s),!1}),"true"==SAIC.autoLoad&&t("a.saic-link").length&&t("a.saic-link").each(function(){t(this).click()}),$commentForm=t(".saic-container-form").find("form"),$commentForm.submit(function(){t(this).find(":submit").attr("disabled","disabled"),t("input, textarea").removeClass("saic-error");var e=t(this).attr("id"),i=e.replace("commentform-",""),r=t("#commentform-"+i),n=t("#saic-link-"+i),s=n.attr("href").split("=")[2],o=!0,c=r.find("textarea").val().replace(/\s+/g," ");if(c.length<2)return r.find(".saic-textarea").addClass("saic-error"),r.find(".saic-error-info-text").show(),setTimeout(function(){r.find(".saic-error-info-text").fadeOut(500)},2500),t(this).find(":submit").removeAttr("disabled"),!1;if(t(this).find("input#email").length){var u=t(this).find("input#author"),d=u.val().replace(/\s+/g," "),l=/^[^?&%$=\/]{2,30}$/i,f=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i,m=t(this).find("input#email"),h=m.val().replace(/\s+/g,"");if(m.val(h),0!=d&&l.test(d)||(u.addClass("saic-error"),r.find(".saic-error-info-name").show(),setTimeout(function(){r.find(".saic-error-info-name").fadeOut(500)},3e3),o=!1),f.test(h)||(m.addClass("saic-error"),r.find(".saic-error-info-email").show(),setTimeout(function(){r.find(".saic-error-info-email").fadeOut(500)},3e3),o=!1),!o)return t(this).find(":submit").removeAttr("disabled"),!1}return o?(t(this).find(":submit").removeAttr("disabled"),a(i,s)):t(this).find(":submit").removeAttr("disabled"),!1}),"function"==typeof jQuery.fn.textareaCount&&"true"==SAIC.textCounter&&t(".saic-textarea").each(function(){var e={maxCharacterSize:SAIC.textCounterNum,originalStyle:"saic-counter-info",warningStyle:"saic-counter-warn",warningNumber:20,displayFormat:"#left"};t(this).textareaCount(e)}),"function"==typeof jQuery.fn.placeholder&&t(".saic-wrap-form input, .saic-wrap-form textarea, #saic-modal input, #saic-modal textarea").placeholder(),"function"==typeof jQuery.fn.autosize&&t("textarea.autosize-textarea").autosize({className:"autosize-textarea"})});